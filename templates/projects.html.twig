{% extends 'partials/base.html.twig' %}

{% set collection = page.collection() %}
{% block presenter %}
    {% include 'partials/presenter.html.twig' with {'page': page} %}
{% endblock %}

{% block main %}
    <div class="container container--sm">
        <div class="section section-margin" itemprop="mainContentOfPage">
            <div class="flex-row">
                {% for category in header.data.categories %}
                    <div class="project">
                        <h3 class="project-headline">
                            <i class="fa fa-{{category.icon}}"></i>{{category.name}}:
                        </h3>
                        <ul>
                            {% for project in header.data.projects | sort_by_key("name") %}
                                {% if project.category == category.id %}
                                    <li >
                                        <a href="{{project.external ? project.link : url('projects/' ~ project.link) }}" title="Go to Project {{project.name}}">
                                            {{project.name}}
                                        </a>
                                        {% if project.download %}
                                            <a href="{{url('user/data/files/' ~ project.download )}}" class="icon" title="Download {{project.name}}">
                                                <i class="fa fa-download"></i>
                                            </a>
                                        {% endif %}
                                        {% if project.article %}
                                            <a href="{{url(project.article)}}" class="icon" title="Article for {{project.name}}">
                                                <i class="fa fa-file-text-o"></i>
                                            </a>
                                        {% endif %}
                                    </li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                {% endfor %}
            </div>
        </div>
        {% include 'modular/social.html.twig' %}
    </div>
{% endblock %}
